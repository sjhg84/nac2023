"use strict";const srCart={btnClass:".pgb-custom-thriveCart .pgb-buy-button-link",trackData:{ls:"projectCode"},expiryDays:7,init:function(){this.checkParams();const t=window.location.href;t.includes("-cart")?this.cartPage():this.generateBtn()},checkParams:function(){for(let t in this.trackData)this.trackData[t]=this.getParams(t)||this.readCookie(t)||this.trackData[t],""!==this.getParams(t)&&this.createCookie(t,this.trackData[t],this.expiryDays)},generateBtn:function(){let t=document.querySelectorAll(this.btnClass);if(t.length>0){t.forEach(t=>{let e=t.getAttribute("href");e=e.split('?')[0];const s=this.combineParams(),n=e.includes('?')?'&':'?';const r=`${e}${n}${s}`;t.setAttribute("href",r)})}},cartPage:function(){this.checkParams();let t=new URL(window.location.href);t.search!=="?"+this.combineParams()&&(t.search=this.combineParams(),window.location.href=t)},eraseCookie:function(t){this.createCookie(t,"",-1)},readCookie:function(t){const e=t+"=",s=document.cookie?document.cookie.split(";"):[];for(let t=0;t<s.length;t++){let n=s[t].trim();if(0===n.indexOf(e))return n.substring(e.length,n.length)}},createCookie:function(t,e,s){let n="";s&&(n="; expires="+((t=new Date).setTime(t.getTime()+864e5*s),t.toGMTString())),document.cookie=`${t}=${e}${n}; path=/`},getParams:function(t){return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const e=new RegExp("[\\?&]"+t+"=([^&#]*)"),s=e.exec(location.search);return null===s?"":decodeURIComponent(s[1].replace(/\+/g," "))},combineParams:function(){let t="";for(const e in this.trackData)t+=t===""?"":"&",t+=void 0!==this.trackData[e]?`passthrough[${e}]=${this.trackData[e]}`:"";return t},help:function(){let t="Update below variable before run init()";t+="\n"+"srCart.trackData['leadsource_name with quote'] = 'leadsource_data with quote'",t+="\n"+"srCart.btnClass = 'quote with .classname'",t+="\n"+"srCart.expiryDays = without quote numbering",console.log(t)}},document.addEventListener("DOMContentLoaded",function(){srCart.init()});
