"use strict";const srCart={btnClass:".pgb-custom-thriveCart .pgb-buy-button-link",trackData:{ls:"projectCode"},expiryDays:7,init:function(){this.checkParams();let t=window.location.href;t.includes("-cart")?this.cartPage():this.generateBtn()},checkParams:function(){for(let t in this.trackData)this.trackData[t]=this.getParams(t)||this.readCookie(t)||this.trackData[t],""!==this.getParams(t)&&this.createCookie(t,this.trackData[t],this.expiryDays)},generateBtn:function(){let t=document.querySelectorAll(this.btnClass);t.length>0&&t.forEach(t=>{let e=t.getAttribute("href");e=e.split("?")[0];let a=this.combineParams(),i=e.includes("?")?"&":"?",r=`${e}${i}${a}`;t.setAttribute("href",r)})},cartPage:function(){this.checkParams();let t=new URL(window.location.href);t.search!=="?"+this.combineParams()&&(t.search=this.combineParams(),window.location.href=t)},eraseCookie:function(t){this.createCookie(t,"",-1)},readCookie:function(t){let e=t+"=",a=document.cookie?document.cookie.split(";"):[];for(let i=0;i<a.length;i++){let r=a[i].trim();if(0===r.indexOf(e))return r.substring(e.length,r.length)}},createCookie:function(t,e,a){let i="";if(a){let r=new Date;r.setTime(r.getTime()+864e5*a),i="; expires="+r.toGMTString()}document.cookie=`${t}=${e}${i}; path=/`},getParams:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");let e=RegExp("[\\?&]"+t+"=([^&#]*)"),a=e.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},combineParams:function(){let t="";for(let e in this.trackData)t+=""===t?"":"&",t+=void 0!==this.trackData[e]?`passthrough[${e}]=${this.trackData[e]}`:"";return this.getParams("coupon")&&(t+="&coupon="+this.getParams("coupon")),this.getParams("plan")&&(t+="&plan="+this.getParams("plan")),t},help:function(){let t="Update below variable before run init()";t+="\nsrCart.trackData['leadsource_name with quote'] = 'leadsource_data with quote'",t+="\nsrCart.btnClass = 'quote with .classname'",t+="\nsrCart.expiryDays = without quote numbering",console.log(t)}};document.addEventListener("DOMContentLoaded",function(){srCart.init()});
