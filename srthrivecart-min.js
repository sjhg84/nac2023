"use strict";const srCart={btnClass:".pgb-custom-thriveCart .pgb-buy-button-link",isHome:!1,trackData:{ls:"projectCode"},expiryDays:7,init:function(){this.checkParams();window.location.href.includes("-cart")?this.cartPage():this.generateBtn()},checkParams:function(){for(let t in this.trackData)this.trackData[t]=this.getParams(t)||this.readCookie(t)||this.trackData[t],""!==this.getParams(t)&&this.createCookie(t,this.trackData[t],this.expiryDays)},generateBtn:function(){let t=document.querySelectorAll(this.btnClass);t.length>0&&t.forEach((t=>{let e=t.getAttribute("href");e=e.split("?")[0];const a=this.combineParams(),i=e.includes("?")?"&":"?",r=`${e}${i}${a}`;t.setAttribute("href",r)}));let e=document.querySelectorAll(".srlogo, .pgb-custom-srlogo");e.length>0&&e.forEach((t=>{let e=t.getAttribute("href");e=e.split("?")[0];const a=this.combineParams(),i=e.includes("?")?"&":"?",r=`${e}${i}${a}`;t.setAttribute("href",r)}))},cartPage:function(){this.checkParams();let t=new URL(window.location.href);t.search!=="?"+this.combineParams()&&(t.search=this.combineParams(),window.location.href=t)},eraseCookie:function(t){this.createCookie(t,"",-1)},readCookie:function(t){const e=t+"=",a=document.cookie?document.cookie.split(";"):[];for(let t=0;t<a.length;t++){let i=a[t].trim();if(0===i.indexOf(e))return i.substring(e.length,i.length)}},createCookie:function(t,e,a){let i="";if(a){const t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3),i="; expires="+t.toGMTString()}document.cookie=`${t}=${e}${i}; path=/`},getParams:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},generateURL:function(){let t="";for(const e in this.trackData)t+=""===t?"":"&",t+=void 0!==this.trackData[e]?`${e}=${this.trackData[e]}`:""},combineParams:function(){let t="";if(this.isHome)for(const e in this.trackData)t+=""===t?"":"&",t+=void 0!==this.trackData[e]?`${e}=${this.trackData[e]}`:"";else for(const e in this.trackData)t+=""===t?"":"&",t+=void 0!==this.trackData[e]?`passthrough[${e}]=${this.trackData[e]}`:"";return this.getParams("coupon")&&(t+="&coupon="+this.getParams("coupon")),t},help:function(){let t="Update below variable before run init()";t+="\nsrCart.trackData['leadsource_name with quote'] = 'leadsource_data with quote'",t+="\nsrCart.btnClass = 'quote with .classname'",t+="\nsrCart.expiryDays = without quote numbering",t+="\nsrCart.trackData['affiliate'] = 'affiliateID';",t+="\nsrCart.isHome = true;",console.log("Update below variable before run init()\nsrCart.trackData['leadsource_name with quote'] = 'leadsource_data with quote'\nsrCart.btnClass = 'quote with .classname'\nsrCart.expiryDays = without quote numbering\nsrCart.trackData['affiliate'] = 'affiliateID';\nsrCart.isHome = true;")}};document.addEventListener("DOMContentLoaded",(function(){srCart.init()}));
